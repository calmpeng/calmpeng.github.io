### 零散知识点

#### CAP-P（分区容忍性）

分布式的存储系统会有很多的节点，这些节点都是通过网络进行通信。而网络是不可靠的，**当节点和节点之间的通信出现了问题**，此时，就称当前的分布式存储系统**出现了分区**。

分区容忍性是指什么？ 它是说，如果出现了分区问题，我们的分布式存储系统还需要继续运行。不能因为出现了分区问题，整个分布式节点全部就熄火了，罢工了，不做事情了。

在以分布式存系统为限定条件的 CAP 世界里，P 是早已经确定的答案，P 是必须的。

提高分区容忍性的办法就是一个数据项复制到多个节点上，那么出现分区之后，这一数据项就可能分布到各个区里。容忍性就提高了。

然而，要把数据复制到多个节点，就会带来一致性的问题，就是多个节点上面的数据可能是不一致的。要保证一致，每次写操作就都要等待全部节点写成功，而这等待又会带来可用性的问题。

总的来说就是，数据存在的节点越多，分区容忍性越高，但要复制更新的数据就越多，一致性就越难保证。为了保证一致性，更新所有节点数据所需要的时间就越长，可用性就会降低。

![参考](https://pica.zhimg.com/80/v2-b4390ebafc1e914f2b8949eaefa2bcb3_1440w.jpg?source=1940ef5c)

[参考](https://www.zhihu.com/question/54105974)